!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d88f42f0-687a-4a41-9d15-f097d83c8060",e._sentryDebugIdIdentifier="sentry-dbid-d88f42f0-687a-4a41-9d15-f097d83c8060")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"52b255b5cc5c7fe9748201022c25eac6092639d0"},chrome||browser||(window.chrome=chrome||window.chrome||window.browser),(chrome||window.chrome).runtime.getURL(""),(()=>{"use strict";const e="undefined"!=typeof window?window:self,t=e.chrome||e.browser||browser;let r;try{r=indexedDB||e.indexedDB}catch(e){console.log(`Error initializing indexedDB: ${e.message}`)}performance||e.performance,URL||e.URL,t.i18n.getUILanguage().split("-")[0],Object.freeze({LicenseStateUnknown:0,LicenseStateFree:1,LicenseStateTrial:2,LicenseStateTrialExpired:3,LicenseStateLicensed:4,LicenseStateLicenseExpired:5,LicenseStateLicenseGrace:6}),Object.freeze([2,4,6]),Object.freeze({MALWARE:Object.freeze({type:"malware",FULL_URL_MALWARE:"full-url-malware",SUSPICIOUS_PAGE:"suspiciousPage",SUSPICIOUS_TLD:"suspiciousTLD",RISKY_PATTERN:"riskyPattern",SUSPICIOUS_CONTENT:"suspiciousContent",MALWARE_PATTERN:"malware-pattern",ALERT_LOOP:"alertLoop",AUTH_REQUIRED_LOOP:"authRequiredLoop",CREATE_URL_LOOP:"createURLLoop",EXTENSION_INSTALL:"extensionInstall",FULL_SCREEN_LOOP:"fullScreenLoop",HISTORY_LOOP:"historyLoop",NOTIFICATION_LOOP:"notificationLoop",PRINT_LOOP:"printLoop",ADWARE:"adware",REPUTATION:"reputation",TROJAN:"trojan",MALVERTISING:"malvertising",WORM:"worm",RANSOMWARE:"ransomware",ROOTKIT:"rootkit",BACKDOOR:"backdoor",SPYWARE:"spyware",ALLOWED_EXCLUSION_VALUE:4}),SCAM:Object.freeze({type:"scam",TSS:"tss",SCAM_HEURISTIC:"scam_heuristic",ALLOWED_EXCLUSION_VALUE:6}),PHISHING:Object.freeze({type:"phishing",PHISHING_SUSPICIOUS_POST:"phishing_suspicious_post",PHISHING_BANKING:"phishing_banking",PHISHING_LOGIN:"phishing_login",PHISHING_LOGIN_VIA_TUNNEL:"phishing_login_via_tunnel",TELEMETRY_PHISHING_TUNNEL:"telemetryPhishingTunnel"}),AD:Object.freeze({type:"ad",ADSERVER:"adserver",ALLOWED_EXCLUSION_VALUE:2}),ADS:Object.freeze({type:"ads",ADSERVER:"adserver",ALLOWED_EXCLUSION_VALUE:2})}),Object.freeze({CHROME:"Chrome",FIREFOX:"Firefox",OPERA:"Opera",EDGE:"Edge",SAFARI:"Safari"}),Object.freeze({origins:["<all_urls>"],permissions:[],optional_permissions:[]}),new RegExp(/^(.*?)(##|#\?#)(.+)$/),Object.freeze({Chrome:Object.freeze({origins:[],permissions:["alarms","downloads","storage","tabs","declarativeNetRequest","declarativeNetRequestFeedback","unlimitedStorage","webRequest","contextMenus","nativeMessaging","offscreen","activeTab","clipboardRead","clipboardWrite"]}),Firefox:Object.freeze({origins:[],permissions:["alarms","downloads","storage","tabs","declarativeNetRequest","declarativeNetRequestFeedback","unlimitedStorage","webRequest","webRequestBlocking","contextMenus","nativeMessaging","activeTab","clipboardRead","clipboardWrite"]}),Edge:Object.freeze({origins:[],permissions:["alarms","downloads","nativeMessaging","storage","tabs","webRequest","declarativeNetRequest","declarativeNetRequestFeedback","unlimitedStorage","contextMenus","offscreen","clipboardRead","clipboardWrite"]}),Safari:Object.freeze({origins:[],permissions:[]})}),Object.freeze({clipboardRead:{title:"clipboardReadPermTitle",description:"clipboardReadPermDesc"},clipboardWrite:{title:"clipboardWritePermTitle",description:"clipboardWritePermDesc"},alarms:{title:"alarms",description:"alarms"},downloads:{title:"downloads",description:"downloads"},storage:{title:"storage",description:"storage"},tabs:{title:"tabs",description:"tabs"},declarativeNetRequest:{title:"declarativeNetRequest",description:"declarativeNetRequest"},declarativeNetRequestFeedback:{title:"declarativeNetRequestFeedback",description:"declarativeNetRequestFeedback"},unlimitedStorage:{title:"unlimitedStorage",description:"unlimitedStorage"},webRequest:{title:"webRequest",description:"webRequest"},contextMenus:{title:"contextMenus",description:"contextMenus"},nativeMessaging:{title:"nativeMessaging",description:"nativeMessaging"},offscreen:{title:"offscreen",description:"offscreen"},activeTab:{title:"activeTab",description:"activeTab"}});const s=e=>new Promise(((r,s)=>t.runtime.sendMessage({type:"MSG_IMPORT_SETTINGS",data:e},(e=>{!e||e.error||t.runtime.lastError?(console.error("INC_EXP: Failed to import settings",{error:(e?e.error:null)||t.runtime.lastError}),s((e?e.error:null)||t.runtime.lastError)):(console.log("INC_EXP: Successfully imported settings"),r())})))),i=e=>{const r=document.getElementById("img-status"),s=document.getElementById("progress-bar"),i=document.getElementById("progress-percentage"),o=document.getElementById("status-desc");if(r.setAttribute("class",""),s.setAttribute("class",""),"completed"===e)return r.classList.add("import-successful"),s.classList.add("progress-complete"),i.textContent="100%",void(o.textContent=t.i18n.getMessage("ImportStatusDescriptionComplete"));if("unauthorized"===e){const e=document.getElementById("non-premium-desc"),n=document.getElementById("non-premium-txt");return r.classList.add("import-error"),s.classList.add("progress-error"),o.style.display="none",i.textContent="Unauthorized",e.style.display="inherit",void(n.textContent=t.i18n.getMessage("ImportStatusDescriptionUnauthorized"))}const n=document.getElementById("try-again-btn");r.classList.add("import-error"),s.classList.add("progress-error"),i.textContent="Error",o.textContent=t.i18n.getMessage("ImportStatusDescriptionError"),document.getElementById("error-btns-container").style.display="inherit",n.addEventListener("click",(()=>{location.reload()}))},o=async e=>{const r=document.getElementById("drag-and-drop"),o=document.getElementById("progress-container"),n=document.getElementById("status-desc"),a=document.getElementById("file-name");if(!e)return r.classList.remove("drag-over"),console.log("No file selected");console.log("Importing File",e.name);const d=new FileReader,c=document.getElementById("import-btn");if(c.classList.add("loading"),c.disabled=!0,r.remove(),o.style.display="inherit",o.style.opacity=1,a.textContent=`${e.name} - ${t.i18n.getMessage("ImportingTxt")}`,a.style.fontWeight=500,a.style.letterSpacing="0.1px",n.textContent=t.i18n.getMessage("ImportStatusDescriptionOnLoad"),!await new Promise(((e,r)=>{t.runtime.sendMessage({type:"MSG_IS_PREMIUM"},(function(t){!t||t.error?(console.error("Failed to check if premium: "+t.error),r(t.error)):(console.debug("Is premium: "+t.success),e(t.success))}))})))return o.style.display="inherit",o.style.opacity=1,i("unauthorized");d.onload=async e=>{const t=e.target.result;try{await(async e=>{const t=JSON.parse(e);if(!t)throw new Error("Invalid import data");console.debug("INC_EXP: Importing Data",{dataAsJson:t}),await s(t)})(t),i("completed"),console.debug("INC_EXP: Import completed")}catch(e){i("error"),console.error("INC_EXP: Failed to import settings",e)}c.classList.remove("loading"),c.disabled=!1},d.onerror=e=>{c.classList.remove("loading"),c.disabled=!1,console.error("INC_EXP: Failed to import settings",e)},d.onabort=e=>{c.classList.remove("loading"),c.disabled=!1,console.error("INC_EXP: Aborted settings import",e)},d.readAsText(e)};document.addEventListener("DOMContentLoaded",(()=>{((e,r=document)=>{[{id:"dd-title",msg:"DragAndDropTitle"},{id:"dd-desc",msg:"DragAndDropDescription"},{id:"import-btn",msg:"ImportBtnText"},{id:"status-desc",msg:"ImportStatusDescription"},{id:"try-again-btn",msg:"ImportTryAgainBtn"},{id:"contact-support-btn",msg:"ImportSupportBtn"}].forEach((({id:e,msg:s,sub:i=null})=>{const o=r.getElementById(e);o&&(o.textContent=t.i18n.getMessage(s,i||void 0))}))})(),(()=>{const e=document.getElementById("drag-and-drop");e.addEventListener("dragover",(t=>{t.preventDefault(),e.classList.add("drag-over")})),e.addEventListener("dragleave",(t=>{t.preventDefault(),e.classList.remove("drag-over")})),e.addEventListener("drop",(e=>{e.preventDefault();const t=e.dataTransfer.files[0];o(t)})),document.getElementById("file-input").addEventListener("change",(e=>{const t=e.target.files[0];o(t)}))})()}))})();
//# sourceMappingURL=firefox-import.js.map